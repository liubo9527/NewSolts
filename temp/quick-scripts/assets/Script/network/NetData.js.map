{"version":3,"sources":["NetData.js"],"names":["NetData","cc","Class","statics","g_Inst","s_index","getInst","init","destoryInst","properties","BetResult","default","serializable","InitResult","RewardResult","GameListResult","PoolResult","poolRules","GameRule","balance","rulePics","orderShowFlag","helpShowFlag","userId","userNick","stopSellingDesc","CC_JSB","self","window","aliLotteryCasinoSDK","getUserInfo","info","fee","nick","uid","document","addEventListener","e","data","getBalance","module","exports"],"mappings":";;;;;;AAGA,IAAIA,UAAUC,GAAGC,KAAH,CAAS;AACnBC,aAAU;AACNC,gBAAS,IADH;AAENC,iBAAU,CAFJ;;AAINC,iBAAQ,mBAAU;;AAEd,gBAAGN,QAAQI,MAAR,KAAmB,IAAtB,EACA;AACIJ,wBAAQI,MAAR,GAAiB,IAAIJ,OAAJ,EAAjB;AACAA,wBAAQI,MAAR,CAAeG,IAAf;AACH;AACD,mBAAOP,QAAQI,MAAf;AAEH,SAbK;;AAeNI,qBAAY,uBAAU;;AAElB,gBAAGR,QAAQI,MAAR,KAAmB,IAAtB,EAA2B;AACvBJ,wBAAQI,MAAR,GAAiB,IAAjB;AACH;AACJ;AApBK,KADS;;AAwBnBK,gBAAY;;AAER;AACAC,mBAAY;AACRC,qBAAU,IADF;;AAGRC,0BAAe;AAHP,SAHJ;AAQR;AACAC,oBAAa;AACTF,qBAAU,IADD;;AAGTC,0BAAe;AAHN,SATL;AAcR;AACAE,sBAAe;AACXH,qBAAU,IADC;;AAGXC,0BAAe;AAHJ,SAfP;AAoBR;AACAG,wBAAe;AACXJ,qBAAU,IADC;;AAGXC,0BAAe;AAHJ,SArBP;;AA2BP;AACDI,oBAAW;AACPL,qBAAU,IADH;;AAGPC,0BAAe;AAHR,SA5BH;;AAkCR;AACAK,mBAAW;AACPN,qBAAU,EADH;AAEPC,0BAAe;AAFR,SAnCH;;AAwCR;AACAM,kBAAS;AACLP,qBAAU,IADL;AAELC,0BAAe;AAFV,SAzCD;;AA8CRO,iBAAQ,CAAC,CA9CD,EA8CG;AACXC,kBAAU,EA/CF,EA+CM;AACdC,uBAAe,KAhDP,EAgDc;AACtBC,sBAAc,KAjDN,EAiDa;AACrBC,gBAAO,IAlDC,EAkDI;AACZC,kBAAS,IAnDD,EAmDM;AACdC,yBAAiB,EApDT,CAoDa;;AApDb,KAxBO;;AAgFnBlB,UAAO,gBAAU;AACb,YAAI,CAACmB,MAAL,EAAY;AACR,gBAAIC,OAAO,IAAX;AACA;AACA,gBAAIC,OAAOC,mBAAX,EAAgC;AAC5B;AACAD,uBAAOC,mBAAP,CAA2BC,WAA3B,CAAuC,UAASC,IAAT,EAAe;AAClD,wBAAIA,IAAJ,EAAU;AACNJ,6BAAKR,OAAL,GAAeY,KAAKC,GAApB;AACAL,6BAAKH,QAAL,GAAgBO,KAAKE,IAArB;AACAN,6BAAKJ,MAAL,GAAcQ,KAAKG,GAAnB;AACH;AACJ,iBAND;AAOH,aATD,MASK;AACD,qBAAKf,OAAL,GAAe,IAAf,CADC,CACoB;AACxB;AACDgB,qBAASC,gBAAT,CAA0B,0BAA1B,EAAsD,UAASC,CAAT,EAAY;AAC9D;AACAV,qBAAKR,OAAL,GAAekB,EAAEC,IAAF,CAAON,GAAtB;AACAL,qBAAKH,QAAL,GAAgBa,EAAEC,IAAF,CAAOL,IAAvB;AACAN,qBAAKJ,MAAL,GAAcc,EAAEC,IAAF,CAAOJ,GAArB;AACH,aALD,EAKG,KALH;AAMH,SArBD,MAsBI;AACA,iBAAKf,OAAL,GAAe,IAAf,CADA,CACqB;AACxB;AACJ,KA1GkB;;AA4GnBoB,gBAAa,sBAAU;AACnB,eAAO,KAAKpB,OAAZ;AACH;AA9GkB,CAAT,CAAd;;AAiHAqB,OAAOC,OAAP,GAAiB;AACbzC,aAAUA;AADG,CAAjB","file":"NetData.js","sourceRoot":"../../../../../assets/Script/network","sourcesContent":["\n\n\nvar NetData = cc.Class({\n    statics : {\n        g_Inst : null,\n        s_index : 0,\n        \n        getInst:function(){\n            \n            if(NetData.g_Inst === null)\n            {\n                NetData.g_Inst = new NetData();\n                NetData.g_Inst.init();\n            }\n            return NetData.g_Inst;\n            \n        },\n\n        destoryInst:function(){\n            \n            if(NetData.g_Inst !== null){\n                NetData.g_Inst = null;\n            }\n        }\n    },\n    \n    properties: {\n\n        //投注响应对象\n        BetResult : {\n            default : null,\n            \n            serializable : false\n            },\n        //初始化响应对象 \n        InitResult : {\n            default : null,\n           \n            serializable : false\n            }, \n        //结算响应对象\n        RewardResult : {\n            default : null,\n            \n            serializable : false\n            }, \n        //游戏列表\n        GameListResult:{\n            default : null,\n            \n            serializable : false\n        },\n\n         //奖池\n        PoolResult:{\n            default : null,\n            \n            serializable : false\n        },\n\n        //奖池规则\n        poolRules: {\n            default : [],\n            serializable : false,\n        },\n\n        //游戏列表\n        GameRule:{\n            default : null,\n            serializable : false\n        },\n\n        balance:-1,//余额\n        rulePics: [], //规则图片列表\n        orderShowFlag: false, //是否显示订单ing\n        helpShowFlag: false, //是否显示规则\n        userId:null,//userID\n        userNick:null,//用户昵称\n        stopSellingDesc: \"\", //停售说明\n\n    },\n    \n    init : function(){\n        if (!CC_JSB){\n            var self = this;\n            // 由于在绑定时可能已经触发过该事件，可以先获取一下\n            if (window.aliLotteryCasinoSDK) {\n                //window.aliLotteryCasinoSDK.log('debug', 'version', '12/28 17:50');\n                window.aliLotteryCasinoSDK.getUserInfo(function(info) {\n                    if (info) {\n                        self.balance = info.fee;\n                        self.userNick = info.nick;\n                        self.userId = info.uid;\n                    }\n                });\n            }else{\n                this.balance = 1000; //my server\n            }\n            document.addEventListener('casino:updateUserBalance', function(e) {\n                // e.data 中包含了要传递的所有数据，例如用户余额为 e.data.fee\n                self.balance = e.data.fee;\n                self.userNick = e.data.nick;\n                self.userId = e.data.uid;\n            }, false);               \n        }\n        else{\n            this.balance = 1000; //simulator\n        }\n    },\n\n    getBalance : function(){\n        return this.balance;\n    }\n});\n\nmodule.exports = {\n    NetData : NetData,\n};\n"]}