{"version":3,"sources":["../../../../assets/Script/assets/Script/PoolRule.js"],"names":["NetData","require","Game","cc","Class","extends","Component","properties","uiBlack","Node","lock","gameNode","beiArray","default","type","Label","minArray","poolTitleLabel","poolDetailLabel","content","maxArray","hasOpen","onLoad","se","director","getWinSize","per","width","height","dPer","sValue","scale","MovePos","netData","getInst","on","EventType","TOUCH_START","event","stopPropagation","close","active","call3","callFunc","node","runAction","sequence","moveTo","v2","downHelp","i","string","poolRules","bet","minBouns","maxBouns","InitResult","currency","percent","floatRate","initHelp","callback","selectShowCallBack","p"],"mappings":"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","file":"PoolRule.js","sourceRoot":"../../../../assets/Script","sourcesContent":["var NetData = require(\"NetData\");\nvar Game = require(\"Game\");\n\ncc.Class({\n    extends: cc.Component,\n\n    properties: {\n        //游戏帮助\n        uiBlack : cc.Node,\n        lock : false,\n        gameNode: cc.Node, \n\n        beiArray:{\n            default:[],\n            type:cc.Label,\n        },\n\n        minArray:{\n            default:[],\n            type:cc.Label,\n        },\n\n        //奖池规则标题\n        poolTitleLabel:{\n            default: [],\n            type: [cc.Label]\n        },\n\n        //奖池规则说明 1 ~ 20倍\n        poolDetailLabel: {\n            default: [],\n            type: [cc.Label]\n        },\n        content:cc.Node,\n        maxArray:{\n            default:[],\n            type:cc.Label,\n        },\n        \n        hasOpen:false,\n    },\n\n    // use this for initialization\n    onLoad: function () {\n        var se = cc.director.getWinSize();\n        var per = se.width / se.height;\n        var dPer = 1080 / 1660;\n        this.sValue = per / dPer;\n        if(per < dPer){\n            this.content.scale = this.sValue;\n            this.MovePos = -830 - 1124 * (1 - this.sValue);\n        }else{\n            this.MovePos = -830;\n        }\n\n        this.netData = NetData.NetData.getInst();\n        this.lock = false;\n        this.uiBlack.on(cc.Node.EventType.TOUCH_START, function (event){\n            event.stopPropagation();\n            this.close();\n        }, this);\n    },\n    \n    \n    close: function(){\n        if(!this.lock){\n            this.uiBlack.active = false;\n\n            let call3 = cc.callFunc(function()\n            {            \n                //this.netData. = false;\n            }, this);\n\n            this.node.runAction(cc.sequence(cc.moveTo(0.3, cc.v2(0, -2830)), call3));\n        }\n    },\n   \n    downHelp: function(){\n        if(this.hasOpen == false){\n            for(let i = 0; i < 5;i++){\n                this.beiArray[i].string =  this.netData.poolRules[i].bet;\n                this.minArray[i].string =  this.netData.poolRules[i].minBouns;\n                this.maxArray[i].string =  this.netData.poolRules[i].maxBouns;\n            }\n            //标题最低** \n            for(let i = 0; i < 2; i++){            \n                this.poolTitleLabel[i].string = this.poolTitleLabel[i].string + NetData.NetData.getInst().InitResult.currency+\"数\";\n            }\n            //倍数说明\n            for(let i = 0; i < 5 ; i++){\n                let percent = this.netData.poolRules[i].floatRate * 100;\n                if(percent == 0){\n                    this.poolDetailLabel[i].string = \"固定\" + this.netData.poolRules[i].minBouns;\n                }else{\n                    this.poolDetailLabel[i].string = percent + \"%当前奖池\" + NetData.NetData.getInst().InitResult.currency+\"数\";\n                }\n\n            }\n            this.hasOpen = true;\n        }\n        this.initHelp();\n    },\n\n    initHelp:function() {\n        if(!this.lock){\n            //this.netData.helpShowFlag = true;\n            this.lock = true;\n            let callback = cc.callFunc(this.selectShowCallBack, this);\n            this.node.runAction(cc.sequence(cc.moveTo(0.3, cc.p(0, this.MovePos)), callback));\n        }        \n    },\n\n    selectShowCallBack:function()\n    {\n        this.uiBlack.active = true;\n        this.lock = false;\n    },\n});\n"]}